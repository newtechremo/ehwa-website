# 이대목동병원 장애인 이용편의 지원센터 - 프로젝트 현황

**작성일:** 2026년 1월 7일
**프로젝트 경로:** `/home/finefit-temp/Desktop/project/ehwa_website/`

---

## 1. 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 프로젝트명 | 이대목동병원 장애인 이용편의 지원센터 웹사이트 |
| 프레임워크 | Next.js 16.0.7 (App Router) |
| 언어 | TypeScript 5, React 19 |
| 스타일링 | Tailwind CSS 4, shadcn/ui |
| 에디터 | Tiptap (Rich Text Editor) |

---

## 2. 최근 구현 완료 기능

### 2.1 이미지 업로드 개선 (2026-01-07)
| 기능 | 상세 |
|------|------|
| 이미지 자동 압축 | 최대 1200px, JPEG 70% 품질 |
| 용량 제한 | 총 10MB (이미지 합산) |
| 개수 제한 | 최대 5장 |
| 첨부파일 | 다중 업로드, Drag & Drop 지원 |
| 에러 처리 | localStorage 용량 초과 시 명확한 안내 |

### 2.2 UI/UX 개선
| 기능 | 상세 |
|------|------|
| 메인 히어로 이미지 | `/source/main_image0~2.jpg` 로컬 이미지 사용 |
| 고대비 모드 | 헤더 로고, 네비게이션 스타일 수정 |

### 2.3 챗봇 변경 (2026-01-07)
| 항목 | 이전 | 현재 |
|------|------|------|
| 서비스 | Botpress Cloud | **채널톡 (Channel Talk)** |
| Plugin Key | - | `a5de3b65-d01e-4207-9bec-01f3bd28c4a7` |
| 설정 위치 | `app/layout.tsx:79-91` | |

---

## 3. 서버 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                        인터넷 (사용자)                            │
│          https://remo-test.online (✅ 작동)                      │
│          https://barrierfree.eumc.ac.kr (⏳ DNS 변경 대기)        │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Cloudflare Network                           │
│                (SSL 자동 관리, DDoS 보호)                         │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│              Cloudflare Tunnel (remo-tunnel)                    │
│          ID: 49a156c2-21fd-4962-a01c-b09892255da6               │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│                  로컬 서버 (finefittemp-desktop)                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │              cloudflared (Tunnel Client)                  │  │
│  │                    상태: ✅ 실행 중                         │  │
│  └────────────────────────┬──────────────────────────────────┘  │
│                           │                                      │
│                           ▼                                      │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                 Nginx (포트 3111)                          │  │
│  │                   상태: ✅ 실행 중                          │  │
│  └────────────────────────┬──────────────────────────────────┘  │
│                           │                                      │
│                           ▼                                      │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │              Next.js 앱 (포트 3112)                        │  │
│  │            이대목동병원 장애인 이용편의 지원센터              │  │
│  │                   상태: ✅ 실행 중                          │  │
│  └───────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 현재 실행 중인 서버 (이 프로젝트 관련)

| 서비스 | 포트 | 프로세스 | 상태 |
|--------|------|----------|------|
| **Next.js (ehwa_website)** | 3112 | `next-server (v16.0.7)` | ✅ 실행 중 |
| **Nginx** | 3111 | 리버스 프록시 | ✅ 실행 중 |
| **cloudflared** | - | Cloudflare Tunnel | ✅ 실행 중 |

### 관련 명령어
```bash
# Next.js 서버 상태 확인
ps aux | grep "next-server.*3112"

# Nginx 상태
sudo systemctl status nginx

# Cloudflared 상태
sudo systemctl status cloudflared
```

---

## 5. 동일 서버의 다른 프로젝트 (참고)

| 프로젝트 | 포트 | 상태 |
|----------|------|------|
| golf-swing-system (Frontend) | 3000 | 실행 중 |
| golf-swing-system (Backend) | - | 실행 중 (NestJS) |
| remo-data-bridge | 3015 | 실행 중 |
| mfd_server (Frontend) | 3110 | 실행 중 |
| tong-headquarters | 3001 | 실행 중 (Vite) |

---

## 6. 도메인 연결 현황

| 도메인 | 상태 | 비고 |
|--------|------|------|
| https://remo-test.online | ✅ 정상 작동 | 테스트 도메인 |
| https://barrierfree.eumc.ac.kr | ⏳ DNS 변경 대기 | 병원 전산팀에 CNAME 변경 요청 필요 |

### DNS 변경 요청 사항
```
레코드: CNAME
Host: barrierfree
현재 값: 49a156c2-21fd-4962-a01c-b09892255da6.cfargotunnel.com
변경 값: remo-test.online
```

---

## 7. 주요 파일 구조

```
ehwa_website/
├── app/
│   ├── page.tsx              # 메인 랜딩 페이지
│   ├── layout.tsx            # 루트 레이아웃 (채널톡 설정)
│   └── admin/                # 관리자 CMS
│       ├── login/            # 로그인
│       ├── posts/            # 게시글 CRUD
│       │   ├── write/        # 작성
│       │   └── [id]/         # 수정
│       └── featured/         # 추천 게시글 관리
├── components/
│   ├── main/                 # 랜딩 페이지 컴포넌트
│   └── ui/                   # shadcn/ui 컴포넌트
├── styles/
│   └── main.css              # 고대비 모드 등 스타일
├── public/
│   └── source/               # 메인 이미지 등 에셋
├── lib/
│   ├── posts.ts              # Post 타입 정의
│   └── api.ts                # API 유틸리티
└── docs/                     # 프로젝트 문서
```

---

## 8. 데이터 저장 방식

| 데이터 | 저장소 | 키 |
|--------|--------|-----|
| 게시글 | localStorage | `news_posts` |
| 추천 슬롯 | localStorage | `featured_slots` |
| 인증 상태 | localStorage | `isAuthenticated` |

> **주의**: 모든 데이터가 브라우저 localStorage에 저장됩니다 (최대 ~5MB)

---

## 9. 개발/운영 명령어

```bash
# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 프로덕션 서버 실행
npm run start

# 린트 검사
npm run lint
```

---

## 10. 설정 파일 위치

| 설정 | 경로 |
|------|------|
| Next.js 설정 | `next.config.mjs` |
| TypeScript | `tsconfig.json` |
| Tailwind CSS | `postcss.config.mjs` |
| Nginx | `/etc/nginx/sites-available/remo-test.online` |
| Cloudflared | `/etc/cloudflared/config.yml` |

---

## 11. 외부 서비스 연동

| 서비스 | 용도 | 상태 |
|--------|------|------|
| 채널톡 (Channel Talk) | 고객 상담 챗봇 | ✅ 연동 완료 |
| Vercel Analytics | 방문자 분석 | ✅ 활성화 |
| Cloudflare Tunnel | 외부 접근 | ✅ 작동 중 |

---

## 12. 대기 중인 작업

| 작업 | 담당 | 상태 |
|------|------|------|
| DNS CNAME 변경 (barrierfree.eumc.ac.kr) | 병원 전산팀 | ⏳ 요청 필요 |

---

**최종 업데이트:** 2026년 1월 7일
